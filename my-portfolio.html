<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HUANG JIAJIE | Visual Artist</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        :root {
            --bg-color: #050505;
            --text-main: #ffffff;
            --accent: #00f3ff;
            --font-display: 'Helvetica Neue', 'Arial Black', sans-serif;
            --font-mono: 'Courier New', monospace;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Microsoft YaHei", sans-serif;
            overflow-x: hidden;
            opacity: 0;
            transition: opacity 1.5s ease;
        }
        body.loaded { opacity: 1; }
        body.modal-open { overflow: hidden; }

        /* --- 胶片噪点层 --- */
        .noise-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 90;
            background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48ZmlsdGVyIGlkPSJnoiPjGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuNjUiIG51bU9jdGF2ZXM9IjMiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWx0ZXI9InVybCgjZykiIG9wYWNpdHk9IjAuMDgiLz48L3N2Zz4=');
            opacity: 0.6;
        }

        /* --- 交互光标 --- */
        #cursor {
            position: fixed; top: 0; left: 0; width: 6px; height: 6px;
            background: white; border-radius: 50%;
            pointer-events: none; z-index: 9999;
            transform: translate(-50%, -50%);
            mix-blend-mode: difference;
        }
        #cursor-ring {
            position: fixed; top: 0; left: 0; width: 50px; height: 50px;
            border: 1px solid rgba(255,255,255,0.5); border-radius: 50%;
            pointer-events: none; z-index: 9998;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s, background 0.3s;
            mix-blend-mode: difference;
        }
        body.hovered #cursor-ring {
            width: 90px; height: 90px;
            background: rgba(255,255,255,0.1);
            border-color: transparent;
            backdrop-filter: invert(1);
        }

        /* --- WebGL Canvas --- */
        #bg-canvas {
            position: fixed; top: 0; left: 0;
            width: 100vw; height: 100vh;
            z-index: -1;
        }

        nav {
            position: fixed; top: 0; left: 0; width: 100%;
            padding: 2.5rem 4rem;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 100;
            mix-blend-mode: exclusion;
        }
        .logo { font-weight: 700; letter-spacing: 2px; font-size: 1.1rem; font-family: var(--font-mono); }
        .lang-btn {
            background: transparent; border: 1px solid rgba(255,255,255,0.6);
            color: white; padding: 6px 18px; border-radius: 30px;
            font-family: var(--font-mono); font-size: 0.8rem;
            transition: 0.3s; cursor: none;
        }
        .lang-btn:hover { background: white; color: black; }

        .container { max-width: 1400px; margin: 0 auto; padding: 0 2rem; position: relative; z-index: 2; }

        /* --- Hero --- */
        .hero {
            height: 100vh;
            display: flex; flex-direction: column; justify-content: center;
            position: relative;
        }
        .hero-title {
            font-family: var(--font-display);
            font-size: 13vw; line-height: 0.8; font-weight: 900;
            letter-spacing: -0.04em; color: #fff; text-transform: uppercase;
            mix-blend-mode: overlay; opacity: 0.9;
        }
        .hero-subtitle {
            margin-top: 2rem; font-family: var(--font-mono);
            font-size: 1.1rem; color: rgba(255,255,255,0.9);
            border-left: 3px solid #fff; padding-left: 1.5rem;
            max-width: 600px; mix-blend-mode: difference;
        }

        /* --- Projects Grid --- */
        section { padding: 6rem 0; }
        .section-header { margin-bottom: 4rem; }
        .section-title {
            font-size: 4rem; font-weight: 900; font-family: var(--font-display);
            color: #fff; margin-bottom: 1rem; mix-blend-mode: difference;
        }

        .projects-grid {
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 2rem;
        }
        .project-card {
            position: relative; transition: transform 0.4s ease;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            overflow: hidden;
            aspect-ratio: 16/10;
        }
        .project-card:hover { transform: translateY(-10px) scale(1.01); border-color: #fff; z-index: 10; }
        
        .project-thumb {
            width: 100%; height: 100%;
            position: relative; overflow: hidden;
        }

        /* Shader Backgrounds (Backup) */
        .thumb-art {
            position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            transition: 0.5s;
        }
        .project-card:hover .thumb-art { transform: scale(1.1) rotate(5deg); }

        .p3 .thumb-art { background: conic-gradient(from 0deg, #2a0033, #ff00cc, #3300ff, #000); filter: blur(50px) contrast(120%); }
        .p4 .thumb-art { background: conic-gradient(from 90deg, #000, #004d40, #000, #d84315, #000); filter: blur(60px) contrast(130%) brightness(0.8); }

        /* Slideshows */
        .card-slideshow { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        .slide-img {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            object-fit: cover; opacity: 0; transition: opacity 1.5s ease-in-out;
            filter: contrast(1.1) brightness(0.9);
        }
        .slide-img.active { opacity: 1; }
        
        .project-info { 
            position: absolute; bottom: 0; left: 0; width: 100%;
            padding: 2rem; 
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            z-index: 2; 
        }
        .project-info h3 { font-size: 1.8rem; color: #fff; font-weight: 700; letter-spacing: -1px; }

        /* --- Fullscreen Modal --- */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #050505; 
            z-index: 200;
            opacity: 0; pointer-events: none;
            transition: opacity 0.5s ease;
            overflow-y: auto;
        }
        .modal.active { opacity: 1; pointer-events: auto; }
        
        .modal-container {
            max-width: 1600px; margin: 0 auto; padding: 4rem 2rem;
            color: white;
        }
        
        .modal-header {
            position: sticky; top: 0;
            display: flex; justify-content: space-between; align-items: center;
            padding: 2rem 0; margin-bottom: 2rem;
            background: rgba(5,5,5,0.9); backdrop-filter: blur(10px);
            z-index: 20; border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .modal-title { font-family: var(--font-display); font-size: 2rem; text-transform: uppercase; color: #fff; }
        .modal-meta { font-family: var(--font-mono); color: #888; font-size: 0.9rem; }
        
        .close-btn {
            font-family: var(--font-mono); font-size: 1.2rem; background: none; border: 1px solid rgba(255,255,255,0.3); color: white;
            padding: 0.5rem 1.5rem; border-radius: 2rem; transition: 0.3s;
        }
        .close-btn:hover { background: white; color: black; }

        /* Gallery Layout */
        .gallery-stack {
            display: flex; flex-direction: column; gap: 6rem; padding-bottom: 6rem;
        }
        
        .gallery-section-title {
            font-family: var(--font-mono); font-size: 3rem; 
            color: #ffffff;
            border-bottom: 1px solid rgba(255,255,255,0.2); 
            margin-top: 4rem; margin-bottom: 2rem;
            padding-bottom: 1rem;
            font-weight: 700;
        }
        
        .gallery-item { opacity: 0; transform: translateY(50px); width: 100%; }
        
        .gallery-img-wrapper {
            width: 100%; overflow: hidden; border-radius: 4px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5); margin-bottom: 1.5rem;
        }
        .gallery-img { width: 100%; height: auto; display: block; }

        .gallery-caption {
            font-family: var(--font-mono); 
            display: flex; justify-content: space-between; align-items: flex-start;
            border-top: 1px solid rgba(255,255,255,0.2); padding-top: 1rem; 
            color: #fff; 
        }
        .caption-title { color: #ffffff; font-weight: bold; font-size: 1.2rem; }
        .caption-desc { max-width: 400px; text-align: right; font-size: 0.95rem; line-height: 1.6; color: #dddddd; }

        /* --- Profile --- */
        #profile-section { padding-top: 6rem; padding-bottom: 6rem; }
        .profile-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: flex-start; }
        .bio-text { font-size: 1.2rem; line-height: 1.6; color: #ddd; margin-bottom: 2rem; mix-blend-mode: difference; }
        .highlight-link { color: #fff; text-decoration: underline; text-underline-offset: 4px; }
        .skills-wrapper { display: flex; flex-wrap: wrap; gap: 10px; }
        .skill-tag { 
            padding: 0.6rem 1.2rem; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); 
            color: #fff; font-size: 0.9rem; transition: 0.3s; backdrop-filter: blur(5px);
        }
        .skill-tag:hover { background: #fff; color: #000; }
        
        /* 奖项列表优化：滚动条样式 */
        .awards-box { 
            background: rgba(0, 0, 0, 0.4); 
            backdrop-filter: blur(30px); 
            border: 1px solid rgba(255,255,255,0.15); 
            padding: 3rem; 
            max-height: 500px; /* 限制高度 */
            overflow-y: auto;  /* 允许滚动 */
        }
        /* 自定义滚动条 */
        .awards-box::-webkit-scrollbar { width: 6px; }
        .awards-box::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }
        .awards-box::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.3); border-radius: 3px; }
        .awards-box::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.6); }

        .awards-title { font-family: var(--font-mono); font-size: 1.2rem; margin-bottom: 2rem; border-bottom: 1px solid rgba(255,255,255,0.2); padding-bottom: 1rem; color: #fff; }
        .award-item { display: flex; justify-content: space-between; margin-bottom: 1.5rem; font-size: 1rem; color: #bbb; }
        .award-rank { color: #fff; font-weight: 600; text-align: right; margin-left: 1rem; }

        @media (max-width: 900px) {
            .hero-title { font-size: 15vw; }
            .projects-grid, .profile-layout { grid-template-columns: 1fr; }
            .modal-container { padding: 1rem; }
            .gallery-caption { flex-direction: column; gap: 0.5rem; }
            .caption-desc { text-align: left; }
        }
    </style>
</head>
<body>

    <div class="noise-overlay"></div>
    <div id="cursor"></div>
    <div id="cursor-ring"></div>
    <canvas id="bg-canvas"></canvas>

    <nav>
        <div class="logo">H.JIAJIE</div>
        <button class="lang-btn interactable" onclick="toggleLanguage()">EN / 中</button>
    </nav>

    <div class="container">
        
        <section class="hero">
            <div class="hero-title">HUANG</div>
            <div class="hero-title" style="margin-left: 8vw;">JIAJIE</div>
            <div class="hero-subtitle">
                <span id="hero-role">New Media Artist / VFX Designer</span><br>
                <span id="hero-sub" style="font-size:0.9rem; opacity:0.8;">TouchDesigner · Unreal Engine · AIGC</span>
            </div>
        </section>

        <section id="works">
            <div class="section-header">
                <h2 class="section-title interactable" id="work-title">SELECTED WORKS</h2>
            </div>

            <div class="projects-grid">
                <!-- P1: Installation -->
                <div class="project-card interactable" onclick="openProject('p1')">
                    <div class="project-thumb p1">
                        <div class="card-slideshow" id="p1-slideshow"></div>
                    </div>
                    <div class="project-info"><h3 id="p1-title">Installation & Interaction</h3></div>
                </div>

                <!-- P2: VFX -->
                <div class="project-card interactable" onclick="openProject('p2')">
                    <div class="project-thumb p2">
                        <div class="card-slideshow" id="p2-slideshow"></div>
                    </div>
                    <div class="project-info"><h3 id="p2-title">TouchDesigner VFX</h3></div>
                </div>

                <!-- P3: AIGC -->
                <div class="project-card interactable" onclick="openProject('p3')">
                    <div class="project-thumb p3">
                        <div class="card-slideshow" id="p3-slideshow"></div>
                    </div>
                    <div class="project-info"><h3 id="p3-title">AIGC Generative Art</h3></div>
                </div>

                <!-- P4: Visual Imaging -->
                <div class="project-card interactable" onclick="openProject('p4')">
                    <div class="project-thumb p4">
                         <div class="card-slideshow" id="p4-slideshow"></div>
                    </div>
                    <div class="project-info"><h3 id="p4-title">Visual Imaging</h3></div>
                </div>
            </div>
        </section>

        <section id="profile-section">
            <h2 class="section-title" id="profile-title">PROFILE</h2>
            <div class="profile-layout">
                <div class="profile-left">
                    <div class="bio-text">
                        <p id="bio-text">
                            我是黄家杰，一名聚焦于 <a href="#" class="highlight-link">TouchDesigner</a> 与实时视觉特效的新媒体艺术家。
                            我擅长将数据转化为感官体验，利用代码构建沉浸式空间。
                            目前在广州图灵艺术有限公司负责视觉特效与交互设计。
                        </p>
                    </div>
                    <div class="skills-wrapper">
                        <div class="skill-tag interactable">TouchDesigner</div>
                        <div class="skill-tag interactable">Unreal Engine 5</div>
                        <div class="skill-tag interactable">GLSL Shader</div>
                        <div class="skill-tag interactable">ComfyUI</div>
                        <div class="skill-tag interactable">Python</div>
                    </div>
                </div>
                <div class="awards-box tilt-card">
                    <h3 class="awards-title">LATEST AWARDS</h3>
                    <div id="awards-list"></div>
                </div>
            </div>
        </section>

        <footer style="text-align:center; padding: 4rem 0; color: #888; font-family: var(--font-mono); font-size: 0.8rem; mix-blend-mode: difference;">
            &copy; 2026 HUANG JIAJIE.
        </footer>
    </div>

    <!-- 全屏沉浸式画廊 -->
    <div class="modal" id="project-modal">
        <div class="modal-container">
            <div class="modal-header">
                <div>
                    <h2 class="modal-title" id="modal-title">TITLE</h2>
                    <p class="modal-meta" id="modal-meta">ARCHIVE</p>
                </div>
                <button class="close-btn interactable" onclick="closeModal()">✕ CLOSE</button>
            </div>
            
            <div class="gallery-stack" id="gallery-stack">
                <!-- 内容由JS动态生成 -->
            </div>
        </div>
    </div>

    <script>
        // --- 核心数据配置 ---
        
        // P1: 装置与交互
        const p1Data = {
            title: "Installation & Interaction",
            meta: "PHYSICAL INSTALLATION PRACTICE / 2024",
            sections: [
                {
                    titleZH: "映像深层", titleEN: "01 / Deep Imagery",
                    images: [
                        { src: "https://i.postimg.cc/k55YXPc0/shen-ceng-(1).png", title: "Reflection 01", desc: "Mirror and light structure." },
                        { src: "https://i.postimg.cc/9ffgFHbH/shen-ceng-(2).png", title: "Reflection 02", desc: "Interactive depth perception." },
                        { src: "https://i.postimg.cc/R00pVxdm/shen-ceng-(3).jpg", title: "Reflection 03", desc: "Physical installation detail." }
                    ]
                },
                {
                    titleZH: "光影竹影", titleEN: "02 / Bamboo Shadows",
                    images: [
                        { src: "https://i.postimg.cc/TPPNYv0R/guang-ying-(1).jpg", title: "Light & Shadow 01", desc: "Traditional elements mixed with tech." },
                        { src: "https://i.postimg.cc/MGrPn33k/guang-ying-(2).jpg", title: "Light & Shadow 02", desc: "Atmospheric lighting study." },
                        { src: "https://i.postimg.cc/bvvVNfTC/guang-ying-(3).png", title: "Light & Shadow 03", desc: "Projection mapping on bamboo." }
                    ]
                },
                {
                    titleZH: "交互练习", titleEN: "03 / Interaction Practice",
                    images: [
                        { src: "https://i.postimg.cc/6QQb5x0F/jiao-hu-(1).png", title: "Interaction 01", desc: "Sensor data visualization." },
                        { src: "https://i.postimg.cc/Xvv176LM/jiao-hu-(2).png", title: "Interaction 02", desc: "TouchDesigner logic graph." },
                        { src: "https://i.postimg.cc/FKKCsXZ6/jiao-hu-(3).png", title: "Interaction 03", desc: "Real-time user feedback loop." }
                    ]
                }
            ]
        };

        // P2: VFX
        const p2Data = {
            title: "TouchDesigner VFX",
            meta: "VISUAL EFFECTS ARCHIVE / 2024-2025",
            images: [
                { src: "https://i.postimg.cc/XNy4JjCZ/Touchdesigner1.png", title: "Particle Swarm", desc: "GPU particles simulation." },
                { src: "https://i.postimg.cc/xjbnCfzL/Touchdesigner2.png", title: "Noise Topography", desc: "3D terrain generation." },
                { src: "https://i.postimg.cc/c180Hxnw/Touchdesigner3.png", title: "Feedback Loop", desc: "Recursive fluid forms." },
                { src: "https://i.postimg.cc/CMfS1hqG/Touchdesigner4.png", title: "Instancing Geometry", desc: "Abstract shapes instancing." },
                { src: "https://i.postimg.cc/MZjqT6Qy/Touchdesigner5.png", title: "Raymarching SDF", desc: "SDF lighting exploration." },
                { src: "https://i.postimg.cc/HW7dxYy9/Touchdesigner6.png", title: "Audio Reactive", desc: "Spectrum visualization." },
                { src: "https://i.postimg.cc/tRVpTqx5/Touchdesigner7.png", title: "Fluid Simulation", desc: "Navier-Stokes fluid dynamics." },
                { src: "https://i.postimg.cc/gc6mJzZs/Touchdesigner8.png", title: "Glitch Art", desc: "Pixel sorting effects." },
                { src: "https://i.postimg.cc/L4Z2X91N/Touchdesigner9.png", title: "Volumetric Light", desc: "Volumetric fog studies." },
                { src: "https://i.postimg.cc/44hsdf9L/Touchdesigner10.png", title: "Generative Structures", desc: "Procedural geometry." }
            ]
        };

        // P3: AIGC
        const p3Data = {
            title: "AIGC Generative Art",
            meta: "AIGC IMAGING PRACTICE / 2024-2025",
            sections: [
                {
                    titleZH: "浮生几何", titleEN: "01 / Floating Geometry",
                    images: [
                        { src: "https://i.postimg.cc/ydnn9QNB/mapping-(2).png", title: "Floating 02", desc: "AI generated abstract mapping." },
                        { src: "https://i.postimg.cc/hvjs0LJK/mapping-(3).png", title: "Floating 03", desc: "Latent space geometry." },
                        { src: "https://i.postimg.cc/J0nxQNy7/mapping-(4).png", title: "Floating 04", desc: "Surreal structural forms." },
                        { src: "https://i.postimg.cc/Wz387GD4/mapping-(5).png", title: "Floating 05", desc: "Procedural generation test." },
                        { src: "https://i.postimg.cc/zvB7kCLV/mapping-(6).png", title: "Floating 06", desc: "Complex pattern study." }
                    ]
                },
                {
                    titleZH: "共生之歌", titleEN: "02 / Song of Symbiosis",
                    images: [
                        { src: "https://i.postimg.cc/Y2nbCsVh/gong-sheng-(1).png", title: "Symbiosis 01", desc: "Nature and tech fusion." },
                        { src: "https://i.postimg.cc/VLJ4rFQ9/gong-sheng-(2).png", title: "Symbiosis 02", desc: "Organic AI aesthetics." },
                        { src: "https://i.postimg.cc/PrCKpMs1/gong-sheng-(3).png", title: "Symbiosis 03", desc: "Flowing ecosystems." },
                        { src: "https://i.postimg.cc/7Y5XGN8g/gong-sheng-(4).png", title: "Symbiosis 04", desc: "Digital life forms." }
                    ]
                }
            ]
        };

        // P4: Visual Imaging
        const p4Data = {
            title: "Visual Imaging",
            meta: "VISUAL EFFECTS PRODUCTION / 2024-2025",
            sections: [
                {
                    titleZH: "广美研究生艺术展演", titleEN: "01 / GAFA Art Exhibition",
                    images: [
                        { src: "https://i.postimg.cc/bNZLDRfX/guang-mei-(1).jpg", title: "GAFA 01", desc: "Exhibition visuals." },
                        { src: "https://i.postimg.cc/QxvmpWjZ/guang-mei-(2).png", title: "GAFA 02", desc: "Stage design concept." },
                        { src: "https://i.postimg.cc/9FsbGqcC/guang-mei-(3).png", title: "GAFA 03", desc: "Live performance background." },
                        { src: "https://i.postimg.cc/YqTR1mtr/guang-mei-(4).png", title: "GAFA 04", desc: "Visual identity design." },
                        { src: "https://i.postimg.cc/Gh6Kksb3/guang-mei-(5).png", title: "GAFA 05", desc: "Atmosphere rendering." }
                    ]
                },
                {
                    titleZH: "安徽博物馆", titleEN: "02 / Anhui Museum",
                    images: [
                        { src: "https://i.postimg.cc/C5174GZf/an-hui-da-huang-shan-(1).jpg", title: "Museum 01", desc: "Digital heritage display." },
                        { src: "https://i.postimg.cc/J0nxQNyD/an-hui-da-huang-shan-(2).jpg", title: "Museum 02", desc: "Cultural visualization." },
                        { src: "https://i.postimg.cc/4yS52Yt7/an-hui-da-huang-shan-(3).jpg", title: "Museum 03", desc: "Immersive projection." },
                        { src: "https://i.postimg.cc/L5bTQJf1/an-hui-da-huang-shan-(4).jpg", title: "Museum 04", desc: "Historic reconstruction." }
                    ]
                },
                {
                    titleZH: "广州八号仓", titleEN: "03 / Guangzhou No.8 Warehouse",
                    images: [
                        { src: "https://i.postimg.cc/brJgRxGQ/ba-hao-cang-(1).jpg", title: "Warehouse 01", desc: "Commercial space visual." },
                        { src: "https://i.postimg.cc/Gt5Qg4Ys/ba-hao-cang-(2).jpg", title: "Warehouse 02", desc: "Event projection mapping." },
                        { src: "https://i.postimg.cc/6qm0b8RC/ba-hao-cang-(3).jpg", title: "Warehouse 03", desc: "Interactive wall." },
                        { src: "https://i.postimg.cc/zvcj2yWC/ba-hao-cang-(4).jpg", title: "Warehouse 04", desc: "Dynamic light show." }
                    ]
                },
                {
                    titleZH: "第十五届运动会影像", titleEN: "04 / 15th National Games",
                    images: [
                        { src: "https://i.postimg.cc/cLYmT4Jg/shi-wu-yun-(1).png", title: "Games 01", desc: "Opening ceremony concept." },
                        { src: "https://i.postimg.cc/kg8cwX54/shi-wu-yun-(2).png", title: "Games 02", desc: "Motion graphics." },
                        { src: "https://i.postimg.cc/sgScKD2x/shi-wu-yun-(3).png", title: "Games 03", desc: "Event branding." }
                    ]
                },
                {
                    titleZH: "光耀千秋", titleEN: "05 / Shining Through Ages",
                    images: [
                        { src: "https://i.postimg.cc/gkx4XKF8/guang-yao-qian-qiu-(1).png", title: "Shining 01", desc: "Historical epic visual." },
                        { src: "https://i.postimg.cc/wT1Fyk8b/guang-yao-qian-qiu-(2).png", title: "Shining 02", desc: "Grand atmosphere." },
                        { src: "https://i.postimg.cc/Kv1Qk5S6/guang-yao-qian-qiu-(3).png", title: "Shining 03", desc: "Heroic narrative." },
                        { src: "https://i.postimg.cc/vHChW6bk/guang-yao-qian-qiu-(4).png", title: "Shining 04", desc: "Legacy visualization." }
                    ]
                }
            ]
        };

        // --- 1. 初始化卡片轮播 ---
        function initSlideshow(containerId, images) {
            const container = document.getElementById(containerId);
            const slice = images.slice(0, 5); 
            slice.forEach((src, index) => {
                const img = document.createElement('img');
                img.src = src;
                img.className = `slide-img ${index === 0 ? 'active' : ''}`;
                container.appendChild(img);
            });
            let current = 0;
            const slides = container.querySelectorAll('.slide-img');
            if(slides.length > 1) {
                setInterval(() => {
                    slides[current].classList.remove('active');
                    current = (current + 1) % slides.length;
                    slides[current].classList.add('active');
                }, 2200 + Math.random() * 500);
            }
        }

        // 绑定轮播数据
        const p1Slides = [p1Data.sections[0].images[0].src, p1Data.sections[1].images[0].src, p1Data.sections[2].images[0].src];
        initSlideshow('p1-slideshow', p1Slides);

        const p2Slides = p2Data.images.map(i => i.src);
        initSlideshow('p2-slideshow', p2Slides);

        const p3Slides = [p3Data.sections[0].images[0].src, p3Data.sections[1].images[0].src];
        initSlideshow('p3-slideshow', p3Slides);

        const p4Slides = [
            p4Data.sections[0].images[0].src, 
            p4Data.sections[1].images[0].src, 
            p4Data.sections[2].images[0].src,
            p4Data.sections[3].images[0].src,
            p4Data.sections[4].images[0].src
        ];
        initSlideshow('p4-slideshow', p4Slides);


        // --- 2. 模态框逻辑 ---
        const modal = document.getElementById('project-modal');
        const galleryStack = document.getElementById('gallery-stack');
        const modalTitle = document.getElementById('modal-title');
        const modalMeta = document.getElementById('modal-meta');

        function openProject(projectId) {
            galleryStack.innerHTML = ''; 
            
            let data;
            // 判断项目类型
            if (projectId === 'p2') {
                data = p2Data;
                modalTitle.innerText = data.title;
                modalMeta.innerText = data.meta;
                data.images.forEach(renderImageItem);
            } else {
                if (projectId === 'p1') data = p1Data;
                else if (projectId === 'p3') data = p3Data;
                else if (projectId === 'p4') data = p4Data;

                modalTitle.innerText = data.title;
                modalMeta.innerText = data.meta;
                
                data.sections.forEach(section => {
                    const header = document.createElement('div');
                    header.className = 'gallery-section-title';
                    header.innerText = currentLang === 'en' ? section.titleEN : section.titleZH;
                    galleryStack.appendChild(header);
                    section.images.forEach(renderImageItem);
                });
            }

            modal.classList.add('active');
            document.body.classList.add('modal-open');
            
            gsap.fromTo('.gallery-item', 
                { opacity: 0, y: 100 },
                { opacity: 1, y: 0, stagger: 0.1, duration: 0.8, ease: "power2.out", delay: 0.2 }
            );
            gsap.fromTo('.gallery-section-title', 
                { opacity: 0, x: -50 },
                { opacity: 1, x: 0, stagger: 0.1, duration: 1, ease: "power2.out", delay: 0.2 }
            );
        }

        function renderImageItem(item) {
            const div = document.createElement('div');
            div.className = 'gallery-item';
            div.innerHTML = `
                <div class="gallery-img-wrapper">
                    <img src="${item.src}" class="gallery-img" loading="lazy">
                </div>
                <div class="gallery-caption">
                    <div class="caption-title">${item.title}</div>
                    <div class="caption-desc">${item.desc}</div>
                </div>
            `;
            galleryStack.appendChild(div);
        }

        function closeModal() {
            modal.classList.remove('active');
            document.body.classList.remove('modal-open');
        }

        // --- 3. 语言切换 ---
        let currentLang = 'zh';
        const content = {
            zh: {
                role: "新媒体艺术家 / 视觉特效设计师",
                sub: "TouchDesigner · 虚幻引擎 · AIGC",
                workTitle: "精选作品",
                p1T: "装置与交互设计", p2T: "TouchDesigner 视觉特效", p3T: "AIGC 生成艺术", p4T: "视觉影像",
                profileTitle: "个人简介",
                bio: "我是黄家杰，一名聚焦于 <span style='color:#fff;border-bottom:1px solid #fff'>TouchDesigner</span> 与实时视觉特效的新媒体艺术家。我擅长将数据转化为感官体验，利用代码构建沉浸式空间。目前在广州图灵艺术有限公司负责视觉特效与交互设计。",
                awards: [
                    {name: "第八届粤港澳大湾区学校设计作品展", rank: "入围奖"},
                    {name: "大学生AI艺术季AI交互赛道", rank: "三等奖"},
                    {name: "大学生AI艺术季AI影像赛道", rank: "入围奖"},
                    {name: "第四届印迹乡村创意设计比赛", rank: "三等奖"},
                    {name: "未来设计师NCDA大赛 广东赛区", rank: "三等奖"},
                    {name: "第34届时报金犊奖非命题赛道", rank: "优秀奖"},
                    {name: "广东省大学生计算机设计大赛", rank: "一等奖"},
                    {name: "第33届时报金犊奖", rank: "国家入围"},
                    {name: "未来设计师AIGC赛道 广东赛区", rank: "二等奖"},
                    {name: "粤港澳大湾区广告艺术节", rank: "银奖"},
                    {name: "第15届全国大学生广告艺术大赛", rank: "二等奖"}
                ],
                close: "✕ 关闭"
            },
            en: {
                role: "New Media Artist / VFX Designer",
                sub: "TouchDesigner · Unreal Engine · AIGC",
                workTitle: "SELECTED WORKS",
                p1T: "Installation & Interaction", p2T: "TouchDesigner Visuals", p3T: "AIGC Generative Art", p4T: "Visual Imaging",
                profileTitle: "PROFILE",
                bio: "I am Huang Jiajie, a New Media Artist focusing on <span style='color:#fff;border-bottom:1px solid #fff'>TouchDesigner</span> and Real-time VFX. I specialize in transforming data into sensory experiences and building immersive spaces with code.",
                awards: [
                    {name: "8th GBA School Design Exhibition", rank: "Finalist"},
                    {name: "University AI Art Season (Interaction)", rank: "3rd Prize"},
                    {name: "University AI Art Season (Imaging)", rank: "Finalist"},
                    {name: "4th Rural Creative Design Competition", rank: "3rd Prize"},
                    {name: "Future Designer NCDA (Guangdong)", rank: "3rd Prize"},
                    {name: "34th Times Young Creative Awards", rank: "Excellence Award"},
                    {name: "Guangdong Computer Design Contest", rank: "1st Prize"},
                    {name: "33rd Times Young Creative Awards", rank: "National Finalist"},
                    {name: "Future Designer AIGC (Guangdong)", rank: "2nd Prize"},
                    {name: "GBA Advertising Arts Festival", rank: "Silver Award"},
                    {name: "15th National University Ad Competition", rank: "2nd Prize"}
                ],
                close: "✕ CLOSE"
            }
        };

        function renderAwards(list) {
            const container = document.getElementById('awards-list');
            container.innerHTML = '';
            list.forEach(item => { container.innerHTML += `<div class="award-item"><span>${item.name}</span><span class="award-rank">${item.rank}</span></div>`; });
        }

        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'zh' : 'en';
            const data = content[currentLang];
            const btn = document.querySelector('.lang-btn');
            
            gsap.to([".container", ".modal-container"], {opacity: 0.5, duration: 0.2, onComplete: () => {
                btn.innerText = currentLang === 'en' ? 'EN / 中' : '中 / EN';
                document.getElementById('hero-role').innerText = data.role;
                document.getElementById('hero-sub').innerHTML = data.sub;
                document.getElementById('work-title').innerText = data.workTitle;
                document.getElementById('p1-title').innerText = data.p1T;
                document.getElementById('p2-title').innerText = data.p2T;
                document.getElementById('p3-title').innerText = data.p3T;
                document.getElementById('p4-title').innerText = data.p4T;
                document.getElementById('profile-title').innerText = data.profileTitle;
                document.getElementById('bio-text').innerHTML = data.bio;
                renderAwards(data.awards);
                document.querySelector('.close-btn').innerText = data.close;
                
                // 刷新 Modal 标题
                const activeModalTitle = document.querySelector('.gallery-section-title');
                if(activeModalTitle) {
                     // 简单处理：建议重新打开 Modal 以刷新
                }
                
                gsap.to([".container", ".modal-container"], {opacity: 1, duration: 0.2});
            }});
        }
        renderAwards(content.zh.awards);
        toggleLanguage();

        // --- Shader (保持不变) ---
        const canvas = document.querySelector('#bg-canvas');
        const renderer = new THREE.WebGLRenderer({ canvas, alpha: false, antialias: false });
        renderer.setSize(window.innerWidth, window.innerHeight);
        const scene = new THREE.Scene();
        const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);
        const fragmentShader = `
            uniform float uTime; uniform vec2 uResolution; uniform vec2 uMouse;
            vec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) { return a + b*cos( 6.28318*(c*t+d) ); }
            vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
            vec2 mod289(vec2 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
            vec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }
            float snoise(vec2 v) {
                const vec4 C = vec4(0.211324865405187, 0.366025403784439, -0.577350269189626, 0.024390243902439);
                vec2 i  = floor(v + dot(v, C.yy) ); vec2 x0 = v - i + dot(i, C.xx);
                vec2 i1; i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
                vec4 x12 = x0.xyxy + C.xxzz; x12.xy -= i1;
                i = mod289(i);
                vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 )) + i.x + vec3(0.0, i1.x, 1.0 ));
                vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);
                m = m*m ; m = m*m ;
                vec3 x = 2.0 * fract(p * C.www) - 1.0;
                vec3 h = abs(x) - 0.5;
                vec3 ox = floor(x + 0.5);
                vec3 a0 = x - ox;
                m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );
                vec3 g; g.x  = a0.x  * x0.x  + h.x  * x0.y; g.yz = a0.yz * x12.xz + h.yz * x12.yw;
                return 130.0 * dot(m, g);
            }
            float fbm(vec2 st) { float value = 0.0; float amplitude = 0.5; for (int i = 0; i < 4; i++) { value += amplitude * snoise(st); st *= 2.0; amplitude *= 0.5; } return value; }
            void main() {
                vec2 uv = gl_FragCoord.xy / uResolution.xy; uv.x *= uResolution.x / uResolution.y;
                vec2 st = uv * 1.5 - vec2(0.5); vec2 mouse = uMouse * 0.5; st += mouse * 0.2;
                vec2 q = vec2(0.); q.x = fbm( st + 0.1 * uTime ); q.y = fbm( st + vec2(1.0) );
                vec2 r = vec2(0.); r.x = fbm( st + 1.0*q + vec2(1.7,9.2)+ 0.15*uTime ); r.y = fbm( st + 1.0*q + vec2(8.3,2.8)+ 0.126*uTime );
                float f = fbm(st + r);
                vec3 color = palette( f * 0.8 + length(q), vec3(0.5, 0.5, 0.5), vec3(0.5, 0.5, 0.5), vec3(1.0, 1.0, 1.0), vec3(0.0, 0.33, 0.67) );
                color = mix(color, vec3(0.0, 0.02, 0.05), 1.0 - smoothstep(0.0, 0.8, f));
                color = pow(color, vec3(1.1));
                float shift = length(q) * 0.02; color.r += shift; color.b -= shift;
                gl_FragColor = vec4(color, 1.0);
            }
        `;
        const material = new THREE.ShaderMaterial({
            uniforms: { uTime: { value: 0 }, uResolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) }, uMouse: { value: new THREE.Vector2(0,0) } },
            vertexShader: `varying vec2 vUv; void main(){vUv=uv;gl_Position=vec4(position,1.0);}`,
            fragmentShader: fragmentShader
        });
        scene.add(new THREE.Mesh(new THREE.PlaneGeometry(2, 2), material));
        let mouseX = 0, mouseY = 0, targetX = 0, targetY = 0;
        document.addEventListener('mousemove', (e) => { mouseX = (e.clientX / window.innerWidth) * 2 - 1; mouseY = -(e.clientY / window.innerHeight) * 2 + 1; });
        const clock = new THREE.Clock();
        function animate() {
            material.uniforms.uTime.value = clock.getElapsedTime() * 0.5;
            targetX += (mouseX - targetX) * 0.05; targetY += (mouseY - targetY) * 0.05;
            material.uniforms.uMouse.value.set(targetX, targetY);
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }
        animate();
        window.addEventListener('resize', () => { renderer.setSize(window.innerWidth, window.innerHeight); material.uniforms.uResolution.value.set(window.innerWidth, window.innerHeight); });

        // Cursor
        const cursor = document.getElementById('cursor');
        const ring = document.getElementById('cursor-ring');
        let cx = -100, cy = -100, rx = -100, ry = -100;
        document.addEventListener('mousemove', e => { cx = e.clientX; cy = e.clientY; cursor.style.left = cx+'px'; cursor.style.top = cy+'px'; });
        function loopCursor() { rx += (cx - rx) * 0.15; ry += (cy - ry) * 0.15; ring.style.left = rx+'px'; ring.style.top = ry+'px'; requestAnimationFrame(loopCursor); }
        loopCursor();
        document.querySelectorAll('.interactable, a').forEach(el => { el.addEventListener('mouseenter', () => document.body.classList.add('hovered')); el.addEventListener('mouseleave', () => document.body.classList.remove('hovered')); });

        window.addEventListener('load', () => {
            document.body.classList.add('loaded');
            gsap.from(".hero-title", {y:100, opacity:0, duration:1.5, stagger:0.2, ease:"power4.out"});
        });
    </script>
</body>
</html>